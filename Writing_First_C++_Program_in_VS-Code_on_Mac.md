# 在 Mac 的 VS Code 中写第一个 C++ 程序

Updated 1330 GMT+8 Mar 1 2025

2025 spring, Complied by Hongfei Yan



> 在AI回答的基础上，修改如下，在我的MAC 的 VS Code 上可以正常编译、执行或者调试。



## ✅ 第一步：安装必要工具

### 1. 安装 C++ 编译器（Xcode Command Line Tools）

打开 **终端 Terminal**，输入：

```bash
xcode-select --install
```

会弹出提示窗口，点击安装即可。这会安装 `g++` 编译器（Apple 的 LLVM）。

### 2. 安装 VS Code（已安装可跳过）

官网下载安装：https://code.visualstudio.com/

### 3. 安装 VS Code C++ 扩展（一次性操作）

打开 VS Code，按下：

```
Command + Shift + X
```

在扩展市场搜索并安装：

```
C/C++（Microsoft 出品的）
```

------

## ✅ 第二步：写一个简单的 C++ 程序

### 1. 打开 VS Code，新建一个文件夹作为项目目录

比如目录为：`/Users/hfyan/Code/cpp`

**在终端打开 VS Code（推荐）**

在终端中执行：

```
code /Users/hfyan/Code/cpp
```

这会直接以该目录作为工作区打开 VS Code。

### 2. 创建一个文件 `hello_world.cpp`，内容如下：

```cpp
#include <iostream>
using namespace std;

int main() {
    cout << "Hello, world!" << endl;
    cout << "1" << endl;
    cout << "2" << endl;
    cout << "3" << endl;
    cout << "bye" << endl;
    return 0;
}

```

------

## ✅ 第三步：编译并运行程序

可以在终端运行以下命令（确保当前目录中有 `main.cpp`）：

```bash
g++ hello_world.cpp -o hello_world
./hello_world
```

输出应该是：

```
Hello, world!
1
2
3
bye
```

------

## ✅ （可选）第四步：设置 VS Code 的一键构建任务

想要在 VS Code 里按快捷键就编译运行，可以设置 Task：

1. 在项目根目录`/Users/hfyan/Code/cpp`下创建文件夹 `.vscode`
2. 新建文件 `.vscode/tasks.json`，内容如下：

```json
{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "build current cpp file",
            "type": "shell",
            "command": "g++",
            "args": [
                "-std=c++11",
                "-g",
                "${file}",
                "-o",
                "${fileDirname}/${fileBasenameNoExtension}"
            ],
            "group": "build",
            "problemMatcher": [
                "$gcc"
            ],
            "detail": "编译当前打开的 C++ 文件（启用 C++11）"
        },
        {
            "type": "cppbuild",
            "label": "C/C++: g++ build active file",
            "command": "/usr/bin/g++",
            "args": [
                "-fdiagnostics-color=always",
                "-g",
                "${file}",
                "-o",
                "${fileDirname}/${fileBasenameNoExtension}"
            ],
            "options": {
                "cwd": "${fileDirname}"
            },
            "problemMatcher": [
                "$gcc"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "detail": "Task generated by Debugger."
        }
    ]
}

```



3. 新建文件 `.vscode/launch.json`，内容如下：

```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "debug current cpp file",
      "type": "cppdbg",
      "request": "launch",
      "program": "${fileDirname}/${fileBasenameNoExtension}",
      "args": [],
      "stopAtEntry": false,
      "cwd": "${fileDirname}",
      "environment": [],
      "externalConsole": true,
      "MIMode": "lldb"
    }
  ]
}

```

然后按：

```
Command + Shift + B
```

选择：C/C++: g++ build active file 

即可编译。

可以在终端运行以下命令（确保当前目录中有 `hello_world`）：

```bash
./hello_world
```

输出应该是：

```
Hello, world!
1
2
3
bye
```

------

>  `Makefile`目前不需要掌握。
>
> ✅ 提示：如果你要编写多个 C++ 文件、写工程项目？
>
> 可考虑配置更高级的方式，例如：
>
> - 使用 `Makefile`
> - 使用 `CMake`
> - 安装 Code Runner 插件来快速运行简单 C++ 文件

